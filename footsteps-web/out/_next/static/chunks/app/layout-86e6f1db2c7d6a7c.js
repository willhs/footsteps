(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2146:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,9268,23)),Promise.resolve().then(t.bind(t,7071)),Promise.resolve().then(t.bind(t,3138))},3138:(e,r,t)=>{"use strict";t.d(r,{default:()=>c});var n=t(4068),u=t(354);function c(){return(0,n.useEffect)(()=>{if("serviceWorker"in navigator){if("true"!==(u.env.NEXT_PUBLIC_SW_ENABLE||"false")){try{navigator.serviceWorker.getRegistrations().then(e=>{for(let r of e)r.unregister().catch(()=>{})}).catch(()=>{})}catch(e){}return}(async()=>{try{let e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});"true"===(u.env.NEXT_PUBLIC_DEBUG_LOGS||"false")&&console.debug("[SW] registered",e.scope)}catch(e){"true"===(u.env.NEXT_PUBLIC_DEBUG_LOGS||"false")&&console.warn("[SW] registration failed",e)}})()}},[]),null}},7071:(e,r,t)=>{"use strict";t.d(r,{default:()=>c});var n=t(56),u=t(4068);function c(){let e=(0,u.useRef)(0),r=(0,u.useRef)(null),t=(0,u.useRef)(null),[c,i]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{let n=e=>{try{return("string"==typeof e?e:e instanceof URL?e.href:e.url).includes(".pmtiles")}catch(e){return!1}},u=()=>{t.current&&(window.clearTimeout(t.current),t.current=null),!c&&(r.current||(r.current=window.setTimeout(()=>{i(!0),r.current=null},80)))},a=()=>{r.current&&(window.clearTimeout(r.current),r.current=null),t.current||(t.current=window.setTimeout(()=>{i(!1),t.current=null},450))},o=window.fetch.bind(window);window.fetch=async function(){for(var r=arguments.length,t=Array(r),c=0;c<r;c++)t[c]=arguments[c];let i=n(t[0]);i&&(e.current+=1,u());try{return await o(...t)}finally{i&&(e.current=Math.max(0,e.current-1),0===e.current&&a())}};let s=window.XMLHttpRequest;return window.XMLHttpRequest=function(){let r=new s,t=!1,c=r.open.bind(r);return r.open=function(r,i){for(var a=arguments.length,o=Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];try{n(i)&&(t=!0,e.current+=1,u())}catch(e){}return c(r,i,...o)},r.addEventListener("loadend",()=>{t&&(e.current=Math.max(0,e.current-1),0===e.current&&a())}),r},()=>{window.fetch=o,window.XMLHttpRequest=s,r.current&&window.clearTimeout(r.current),t.current&&window.clearTimeout(t.current)}},[c]),(0,n.jsx)("div",{"aria-live":"polite","aria-atomic":"true",className:"loading-bar ".concat(c?"loading-bar-active":""),role:"status",children:(0,n.jsx)("span",{className:"sr-only",children:"Loading map tilesâ€¦"})})}},9268:()=>{}},e=>{e.O(0,[201,524,46,358],()=>e(e.s=2146)),_N_E=e.O()}]);