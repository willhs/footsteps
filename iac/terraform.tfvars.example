# Copy this file to terraform.tfvars and customize as needed

project_id     = "footsteps-earth"
region         = "us-central1"
bucket_name    = "footsteps-earth-tiles"

# App domain mapping (optional)
# Set enable_custom_domain = true and provide your domain to let
# Cloud Run provision a managed certificate and host routing.
enable_custom_domain = true
app_domain_name      = "footsteps.willhs.me"

# PMTiles routing config
# Use same-origin base to avoid preflight; Cloud Run proxies to CDN
next_public_cdn_host = "/pmtiles"

# Absolute CDN origin for the proxy target
# If enable_cloudflare=true, this is auto-derived from the Cloudflare module unless set here
# pmtiles_origin = "https://pmtiles.willhs.me"

# Cloudflare PMTiles proxy (optional). Enable to serve PMTiles via
# pmtiles.<zone_name> (or tiles_hostname below) backed by GCS.
# enable_cloudflare      = true
# cloudflare_zone_id     = "<your_zone_id>"
# cloudflare_zone_name   = "willhs.me"
# cloudflare_account_id  = "<your_account_id>"
# cloudflare_api_token   = "<token_with_dns_and_workers_perms>"
# cloudflare_tiles_hostname = "pmtiles.willhs.me"
service_name   = "footsteps-time-app"

# Container image (update after building)
container_image = "gcr.io/footsteps-earth/footsteps-time-app:latest"

# Scaling settings
min_instances = 0  # Set to 0 for cost optimization
max_instances = 100

# Concurrency settings
# Increase for I/O-bound workloads; lower for CPU-bound tasks
container_concurrency = 80

# Resource limits
cpu_limit      = "2000m"  # 2 vCPUs
memory_limit   = "2Gi"    # 2GB memory
timeout_seconds = 300      # 5 minutes

# Storage settings
bucket_location = "US"  # Multi-region US
